keybindings:
  # ============================================================
  # General Applications (Simple Commands)
  # ============================================================
  - name: File Manager
    keys: super+f
    run: fish -c "pcmanfm"

  - name: Terminal
    keys: super+t
    run: kitty

  - name: Network Manager
    keys: super+n
    run: kitty -e "nmtui"

  - name: Audio Mixer
    keys: super+v
    run: kitty -e "pulsemixer"

  - name: Clipboard Manager
    keys: super+e
    run: clipmenu

  - name: App Launcher
    keys: super+p
    run: bemenu-run -p "Run:" -i

  - name: Scrap YT
    keys: super+y
    run: fish -c 'sYT -p "bemenu"'

  - name: Kill Process
    keys: alt+k
    run: $HOME/.local/bin/killprocess.sh "unattended"

  # ============================================================
  # System Scripts (Inline Bash)
  # ============================================================

  - name: Power Menu
    keys: super+x
    interpreter: bash
    script: |
      varInit=$(cat /proc/1/comm)
      if [[ "$varInit" = "systemd" ]]; then
          ctl="systemctl"
      else
          ctl="loginctl"
      fi
      case "$(printf "Lock\nSleep\nReboot\nShutdown" | bemenu -p "Choose:" -i)" in
      'Lock') slock ;;
      'Sleep') "$ctl" suspend ;;
      'Reboot') "$ctl" reboot ;;
      'Shutdown') "$ctl" poweroff ;;
      *) exit 1 ;;
      esac

  - name: Browser Selector
    keys: super+b
    interpreter: bash
    script: |
      choice=$(echo -e "1.Default Profile[Brave]\n2.Temp Profile[Brave]\n3.Default Profile[Librewolf]" | bemenu -p "Choose Profile :" -i | awk -F"." '{print $1}')
      if [[ "$choice" != "" ]]; then
          if [[ "$choice" = "1" ]]; then
              brave --profile-directory=Default
          elif [[ "$choice" = "2" ]]; then
              brave --profile-directory="Tmp"
          elif [[ "$choice" = "3" ]]; then
              $HOME/.local/bin/libw "librewolf:$(date +%s)" "default-default" "librewolf"
          fi
      fi

  - name: Screenshot
    keys: print
    interpreter: bash
    script: |
      sed -i "35s/.*/fading = false;/" $HOME/.config/picom/picom.conf
      windowshot.sh
      sed -i "35s/.*/fading = true;/" $HOME/.config/picom/picom.conf

  - name: Night Color Toggle
    keys: super+r
    interpreter: bash
    script: |
      FILE="$HOME/.config/nightcolor"
      if [ -f "$FILE" ]; then
          notify-send "NighColor Disabled!"
          rm "$FILE"
          redshift -x
      else
          notify-send "NighColor Enabled!"
          touch "$FILE"
          redshift -P -O 4500K
      fi

  - name: Random Wallpaper
    keys: super+z
    interpreter: bash
    script: |
      feh --bg-fill "$(fd . $HOME/wall/ --type file | shuf -n 1)"

  - name: Favourite Wallpaper
    keys: super+c
    interpreter: bash
    script: |
      randWall=$(printf "143.jpg\n40.png\n103.png" | shuf -n 1)
      feh --bg-fill $HOME/wall/"$randWall"

  - name: Intelligent Tools
    keys: alt+i
    interpreter: bash
    script: |
      sed -i "35s/.*/fading = false;/" $HOME/.config/picom/picom.conf
      int.sh
      sed -i "35s/.*/fading = true;/" $HOME/.config/picom/picom.conf

  - name: EasyEffects Toggle
    keys: alt+g
    interpreter: bash
    script: |
      isRunning=$(ps aux | grep "easyeffects" | wc -lc | xargs | cut -d" " -f1)
      if [[ "$isRunning" = "2" ]]; then
          getProcess=$(ps aux | grep "easyeffects" | head -1)
          pid=$(echo "$getProcess" | awk '{print $2}' | xargs)
          kill -9 "$pid"
          dunstify -I $HOME/.misc/easyno.png "Easyeffects Deactivated!"
          rm nohup.out
      else
          nohup easyeffects --gapplication-service &
          dunstify -I $HOME/.misc/easy.png "Easyeffects Activated!"
          rm $HOME/nohup.out
      fi

  # ============================================================
  # Volume & Brightness Controls
  # ============================================================

  - name: Increase Volume
    keys: super+f8
    interpreter: bash
    script: |
      pamixer -i 5 --allow-boost
      pkill -RTMIN+10 dwmblocks
      VOL=$(pamixer --get-volume)
      STATE=$(pamixer --get-mute)
      cap=100
      if [ "$VOL" -gt "$cap" ]; then
          volnoti-show 100
      else
          if [ "$STATE" = "true" ] || [ "$VOL" -eq 0 ]; then
              volnoti-show -m
          else
              volnoti-show $VOL
          fi
      fi

  - name: Decrease Volume
    keys: super+f7
    interpreter: bash
    script: |
      pamixer -d 5 --allow-boost
      pkill -RTMIN+10 dwmblocks
      VOL=$(pamixer --get-volume)
      STATE=$(pamixer --get-mute)
      cap=100
      if [ "$VOL" -gt "$cap" ]; then
          volnoti-show 100
      else
          if [ "$STATE" = "true" ] || [ "$VOL" -eq 0 ]; then
              volnoti-show -m
          else
              volnoti-show $VOL
          fi
      fi

  - name: Mute Volume
    keys: super+f6
    interpreter: bash
    script: |
      VOL=$(pamixer --get-volume)
      STATE=$(pamixer --get-mute)
      pamixer -t
      pkill -RTMIN+10 dwmblocks
      if [ "$STATE" = "true" ] || [ "$VOL" -eq 0 ]; then
          volnoti-show $VOL
      else
          volnoti-show -m
      fi

  - name: Increase Brightness
    keys: super+f3
    interpreter: bash
    script: |
      brightnessctl s 1000+
      pkill -RTMIN+10 dwmblocks
      currBrightness=$(brightnessctl | head -2 | tail -1 | xargs | cut -d '(' -f2 | cut -d ')' -f1 | tr -d "%" | xargs)
      cap=100
      if [ "$currBrightness" -gt "$cap" ]; then
          volnoti-show 100
      else
          if [ "$currBrightness" -eq 0 ]; then
              volnoti-show -m
          else
              volnoti-show -s /usr/share/pixmaps/volnoti/display-brightness-symbolic.svg $currBrightness
          fi
      fi

  - name: Decrease Brightness
    keys: super+f2
    interpreter: bash
    script: |
      brightnessctl s 1000-
      pkill -RTMIN+10 dwmblocks
      currBrightness=$(brightnessctl | head -2 | tail -1 | xargs | cut -d '(' -f2 | cut -d ')' -f1 | tr -d "%")
      cap=100
      if [ "$currBrightness" -gt "$cap" ]; then
          volnoti-show 100
      else
          if [ "$currBrightness" -eq 0 ]; then
              volnoti-show -s /usr/share/pixmaps/volnoti/display-brightness-symbolic.svg $currBrightness
          else
              volnoti-show -s /usr/share/pixmaps/volnoti/display-brightness-symbolic.svg $currBrightness
          fi
      fi

  - name: Decrease Mic
    keys: super+f9
    interpreter: bash
    script: |
      amixer -D pulse sset Capture 5%-
      pkill -RTMIN+10 dwmblocks
      MVOL=$(amixer -D pulse sget Capture | grep 'Left:' | awk -F'[][]' '{ print $2 }')
      MSTATE=$(amixer get Capture | sed 5q | tail -1 | awk -F " " '{print $NF}')
      if [ "$MSTATE" = "true" ]; then
          volnoti-show -m
      else
          volnoti-show $MVOL
      fi

  - name: Increase Mic
    keys: super+f11
    interpreter: bash
    script: |
      amixer -D pulse sset Capture 5%+
      pkill -RTMIN+10 dwmblocks
      MVOL=$(amixer -D pulse sget Capture | grep 'Left:' | awk -F'[][]' '{ print $2 }')
      MSTATE=$(amixer get Capture | sed 5q | tail -1 | awk -F " " '{print $NF}')
      if [ "$MSTATE" = "true" ]; then
          volnoti-show -m
      else
          volnoti-show $MVOL
      fi

  - name: Mute Mic
    keys: super+f10
    interpreter: bash
    script: |
      amixer -D pulse sset Capture toggle
      pkill -RTMIN+10 dwmblocks
      MVOL=$(amixer -D pulse sget Capture | grep 'Left:' | awk -F'[][]' '{ print $2 }')
      MSTATE=$(amixer -D pulse get Capture | sed 5q | tail -1 | awk -F " " '{print $NF}')
      if [ "$MSTATE" = "[on]" ]; then
          volnoti-show $MVOL
      else
          volnoti-show -m
      fi
